#!/bin/bash

# FZF SEARCH
# ===========================================================================
# Title: browser search
# Author: [shendy-pratama] <shendypratamaa@gmail.com>
# Findme: [https://github.com/shendypratamaa]
# ===========================================================================
# Requirement:
# fzf
# ===========================================================================
# OS: MacOS Ventura 13.1
# ===========================================================================

SEARCHLIST="duckduckgo\ngoogle\nyoutube\nreddit\ngithub\ndevto\nfreecodecamp\nopen-url"
SELECT_SEARCH=$(echo -e $SEARCHLIST | sort | fzf --prompt="select services > ")

if [ "$SELECT_SEARCH" = "duckduckgo" ]; then
	echo -e "search input : \c"; read -r ans
	URL="https://duckduckgo.com/?q=$ans"
	open "$URL"
elif [ "$SELECT_SEARCH" = "google" ]; then
	echo -e "search input : \c"; read -r ans
	URL="https://www.google.com/search?q=$ans"
	open "$URL"
elif [ "$SELECT_SEARCH" = "youtube" ]; then
	echo -e "search input : \c"; read -r ans
	URL="https://youtube.com/results?search_query=$ans"
	open "$URL"
elif [ "$SELECT_SEARCH" = "reddit" ]; then
	SELECT_OPTS=$(sed "" "content\nsubreddit" | fzf --prompt="select reddit options > ")
	if [ "$SELECT_OPTS" = "content" ]; then
		echo -e "reddit content : \c"; read -r ans
		URL="https://www.reddit.com/search/?q=$ans"
		open "$URL"
	else
		echo -e "subreddit : \c"; read -r ans
		URL="https://www.reddit.com/r/$ans"
		open "$URL"
	fi
elif [ "$SELECT_SEARCH" = "github" ]; then
	echo -e "github repo : \c"; read -r ans
	URL="https://github.com/$ans?tab=repositories"
	open "$URL"
elif [ "$SELECT_SEARCH" = "devto" ]; then
	echo -e "devto content : \c"; read -r ans
	URL="https://dev.to/search?q=$ans"
	open "$URL"
elif [ "$SELECT_SEARCH" = "freecodecamp" ]; then
	echo -e "freecodecamp content : \c"; read -r ans
	URL="https://freecodecamp.org/news/search/?query=$ans"
	open "$URL"
elif [ "$SELECT_SEARCH" = "open-url" ]; then
	echo -e "open url : \c"; read -r ans
	open "$ans"
fi
